# 结构化复盘工具开发实施方案

基于已确认的 PRD 文档，我为您制定了以下快速落地的工作方案。本方案优先采用 **React + Ant Design + LocalStorage** 的技术栈，以实现快速开发、部署便捷且数据完全私有的目标。

## 1. 技术栈选型
*   **核心框架**: React (使用 Vite 构建，速度快，体验好)
*   **开发语言**: TypeScript (保证代码健壮性，方便维护数据结构)
*   **UI 组件库**: Ant Design (提供成熟的 Form、Checkbox、Select 等组件，极大缩短开发时间)
*   **数据存储**: LocalStorage (浏览器本地存储，无后端零成本，适合单人使用；后续可扩展为后端 API)
*   **时间处理**: Day.js (轻量级日期库，处理跨天逻辑)

## 2. 数据结构设计 (TypeScript)
我们将定义清晰的数据模型来支撑业务逻辑：
*   **`ReviewEntry` (每日复盘记录)**: 包含日期、今日完成列表、明日计划列表、主/副主题ID及觉察内容。
*   **`Theme` (主题)**: 包含 ID 和名称（如“健康”、“学习”、“工作”）。
*   **`PlanItem` (计划项)**: 包含内容、完成状态(boolean)、备注。

## 3. 开发实施步骤

### 第一阶段：项目初始化 (预计耗时: 10分钟)
1.  使用 Vite 初始化 React + TypeScript 项目。
2.  安装依赖：`antd`, `dayjs`, `uuid` (用于生成唯一ID)。
3.  清理默认样板代码，搭建基本布局。

### 第二阶段：核心组件开发 (预计耗时: 30分钟)
1.  **计划列表组件 (`PlanList`)**:
    *   实现“今日计划”的展示（复选框 + 备注输入）。
    *   实现“明日计划”的编辑（动态添加/删除行）。
2.  **主题觉察组件 (`ThemeSection`)**:
    *   封装 Select 组件，支持从主题库筛选。
    *   实现“主主题”和“副主题”的联动与选填逻辑。
    *   实现文本域输入觉察内容。

### 第三阶段：业务逻辑与存储实现 (预计耗时: 30分钟)
1.  **存储服务 (`StorageService`)**:
    *   封装 `saveReview(date, data)` 和 `getReview(date)`。
    *   **核心逻辑**: 实现 `getLastReview()` 以获取“上次选择的主题”。
    *   **核心逻辑**: 实现“跨天流转”，在加载今日数据时，自动查找昨日数据的“明日计划”并填充。
2.  **主题管理**:
    *   预置一些基础主题（如：工作、成长、健康、家庭）。
    *   实现记忆功能：读取上次提交的主题 ID 作为默认值。

### 第四阶段：整合与优化 (预计耗时: 10分钟)
1.  组装所有组件到主页面。
2.  添加“提交”按钮逻辑：保存数据并提示成功。
3.  添加“历史记录”简单入口（暂实现为弹窗或侧边栏查看最近记录）。

## 4. 验证标准
1.  **流转测试**: 在“昨天”输入明日计划，切换到“今天”应自动显示为今日待办。
2.  **记忆测试**: 提交一次后刷新页面，主/副主题应自动选中上次的选项。
3.  **选填测试**: 不选主主题或副主题，应能正常提交。

请确认是否同意按照此方案进行开发？确认后我将立即开始执行第一阶段。