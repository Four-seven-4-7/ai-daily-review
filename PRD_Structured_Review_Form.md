# 产品需求文档 (PRD): 结构化复盘表单界面

**版本**: v1.0  
**日期**: 2026-01-28  
**状态**: 草稿

## 1. 项目背景与目标
设计一个结构化的每日复盘工具，帮助用户记录每日计划完成情况，规划明日事项，并围绕特定的“主/副主题”进行觉察与反思。核心目标是实现计划的自动流转（明日变今日）以及主题复盘的便捷性（默认值记忆、主题库筛选）。

## 2. 功能模块与需求详情

### 2.1 界面概览
界面主要由以下几个区域组成：
1.  今日复盘区
2.  明日规划区
3.  主题觉察区（主/副主题）
4.  操作区（提交、历史记录）

### 2.2 详细功能说明

#### 2.2.1 今日计划事项完成情况
*   **展示内容**: 显示“昨日”规划的“明日计划事项”。
*   **交互元素**:
    *   **完成状态**: 复选框 (Checkbox)，用户可打勾标记完成。
    *   **备注输入**: 文本输入框 (Text Input)，用户可在事项后补充文字说明（如完成情况详情、未完成原因等）。
*   **数据来源**: 读取上一日提交的“明日计划完成事项”。如果是首次使用或无上一日数据，则为空或允许用户手动添加。

#### 2.2.2 明日计划完成事项
*   **功能**: 输入用户计划在明天完成的任务。
*   **交互元素**:
    *   多行文本框或动态添加的列表项。
*   **核心逻辑 (自动流转)**:
    *   当前输入的“明日计划”，在**第二天**（及之后）打开此界面时，会自动填充到**2.2.1 今日计划事项完成情况**区域中。

#### 2.2.3 主题觉察区
此区域用于用户针对特定主题进行深度觉察。包含“主主题”和“副主题”两部分。

**A. 主主题 (选填)**
*   **主主题选择框**:
    *   **类型**: 下拉选择框 (Select/Dropdown)，支持搜索/筛选。
    *   **数据源**: 来自“主题库”。
    *   **默认值逻辑**: 自动默认选中用户**上次提交时**选择的主主题。
    *   **选填属性**: 用户可以留空。
*   **主主题觉察输入框**:
    *   **类型**: 多行文本域 (Textarea)。
    *   **功能**: 输入关于该主主题的觉察、反思或感悟。

**B. 副主题 (选填)**
*   **副主题选择框**:
    *   **类型**: 下拉选择框 (Select/Dropdown)，支持搜索/筛选。
    *   **数据源**: 来自“主题库”。
    *   **默认值逻辑**: 自动默认选中用户**上次提交时**选择的副主题（如果有）。
    *   **选填属性**: 用户可以留空。
*   **副主题觉察输入框**:
    *   **类型**: 多行文本域 (Textarea)。
    *   **功能**: 输入关于该副主题的觉察内容。

#### 2.2.4 主题库管理
*   **功能**: 提供从选择框中筛选主题的能力。
*   **交互**: 在选择框内输入关键字，实时过滤显示匹配的主题列表。

#### 2.2.5 操作区
*   **提交按钮**:
    *   点击后保存当前所有数据。
    *   保存成功后，更新“上次选择的主题”缓存。
*   **历史记录列表入口**:
    *   点击跳转或弹窗显示历史复盘记录列表。

## 3. 数据逻辑与规则

### 3.1 计划流转规则
*   **定义**: $Plan_{tomorrow}(Day_N) \rightarrow Plan_{today}(Day_{N+1})$
*   **场景**:
    *   用户在 1月1日 输入“明日计划：学习React”。
    *   用户在 1月2日 打开界面，“今日计划事项”自动显示“学习React”，状态为未勾选。

### 3.2 默认值记忆规则
*   系统需本地存储或后端存储用户最近一次提交的 `MainThemeID` 和 `SubThemeID`。
*   页面加载时，读取这两个ID并自动在选择框中选中对应项。

## 4. 界面布局示意 (Wireframe)

```text
+------------------------------------------------------+
|  每日结构化复盘                                      |
+------------------------------------------------------+
| [历史记录]                                           |
+------------------------------------------------------+
| 1. 今日计划完成情况 (来自昨日规划)                   |
| [x] 事项 A  [ 备注：已完成，效果不错       ]         |
| [ ] 事项 B  [ 备注：延期到明天             ]         |
+------------------------------------------------------+
| 2. 明日计划完成事项                                  |
| - [ 输入事项 1 ...                             ]     |
| - [ 输入事项 2 ...                             ]     |
| (+ 添加一项)                                         |
+------------------------------------------------------+
| 3. 主题觉察                                          |
| 主主题: [ ▼ 选择或搜索主题 (默认: 上次主题) ]        |
| 觉察内容:                                            |
| [ 多行文本输入区域...                              ] |
|                                                      |
| 副主题: [ ▼ 选择或搜索主题 (默认: 上次主题) ] (选填) |
| 觉察内容:                                            |
| [ 多行文本输入区域...                              ] |
+------------------------------------------------------+
|                                                      |
|               [    提 交    ]                        |
|                                                      |
+------------------------------------------------------+
```

## 5. 后续扩展建议
*   **数据统计**: 统计各主题的复盘频率。
*   **完成率分析**: 自动计算今日计划的打勾比例。
